#include<bits/stdc++.h>
using namespace std;
int qz[35][35]={	/*第n格牵制到第m格*/ 
	{},
	{2,4,5,6,10,11,9,14,19,17,23,29},
	{1,4,5,6,10,11,15,20,25,12,18,24},
	{4,8,9,10,14,15,21,27,31,5,6,7},
	{1,2,5,6,10,11,3,8,9,14,15,19,7,16,22,28},
	{1,2,3,4,6,10,11,15,20,25,7,17,23,29},
	{1,2,4,5,10,11,7,12,13,17,18,24,16,21,26,3},
	{6,11,12,13,17,18,3,4,5,22,27,30},
	{3,4,9,10,14,15,11,12,13,20,26,30},
	{3,4,8,10,14,15,1,19,21,27,31,11,12,13},
	{1,2,3,4,5,6,8,9,11,13,14,15,16,17,21,22,28,20,25,12},
	{1,2,4,5,6,7,8,9,10,12,13,15,16,17,18,21,22,26,29,23},
	{6,7,11,13,17,18,2,24,8,9,10,22,27,30},
	{6,7,8,9,10,11,12,17,18,23,28,31},
	{3,4,8,9,10,15,16,17,18,19,20,21,25,26,30,1},
	{3,4,8,9,10,11,14,16,17,18,19,20,21,22,25,26,2,5,27,31},
	{10,11,15,17,21,22,4,6,26,28,14,18},
	{6,7,10,11,12,13,15,16,18,21,22,23,24,28,29,14,27,30,1,5},
	{6,7,11,12,13,17,22,23,24,28,29,31,2,14,15,16},
	{14,15,20,21,25,26,22,23,24,1,4,9},
	{14,15,19,21,25,26,2,5,10,8,30,22,23,24},
	{10,11,14,15,16,17,19,20,22,25,26,27,28,30,31,3,9,6,23,24},
	{10,11,15,16,17,18,21,23,24,26,27,28,29,30,31,4,7,12,19,20},
	{17,18,22,24,28,29,1,5,11,13,31,19,20,21},
	{17,18,22,23,28,29,2,6,12,19,21,20},
	{14,15,19,20,21,26,27,28,29,2,5,10},
	{14,15,19,20,21,22,25,27,28,29,8,30,6,11,16,31},
	{21,22,26,28,30,31,25,29,3,9,15,7,12,17},
	{17,18,21,22,23,24,26,27,29,30,31,25,4,10,16,13},
	{17,18,22,23,24,28,1,5,11,25,26,27},
	{21,22,26,27,28,31,20,14,8,7,12,17},
	{21,22,26,27,28,30,15,9,3,13,18,23}
};
int bk[35][35];	/*第a格受了几次牵制而不能填数字b*/
int k,n,s;
int a[35];
int bj(int gz,int num,bool sx)
{
	for(int i=0;qz[gz][i];i++)
	if(sx) bk[qz[gz][i]][num]++;
	else bk[qz[gz][i]][num]--;
}
void f(int p)
{
	if(p>31)
	{
		s++;
		if(s==n)
		{
			cout<<"Found"<<endl;
			for(int i=1;i<=31;i++)
			cout<<a[i]<<' ';
			exit(0); 
		}
		return;
	}
	if(a[p]==0)
	{
		for(int i=1;i<=k;i++)
		if(!bk[p][i])
		{
			a[p]=i;
			bj(p,i,1);
			f(p+1);
			bj(p,i,0);
			a[p]=0;
		}
	}
	else
	{
		f(p+1);
	}
}
int main()
{
	freopen("hexodoku.in","r",stdin);
	freopen("hexodoku.out","w",stdout);
	cin>>k>>n;
	for(int i=1;i<=31;i++)
	{
		cin>>a[i];
		if(a[i]!=0) bj(i,a[i],1);
	}
	f(1);
	cout<<"No way";
	return 0;
}

