#include<bits/stdc++.h>
using namespace std;
int read(){
	int num=0,f=1; char c=getchar();
	while(!isdigit(c)){if (c=='-') f=-1; c=getchar();}
	while(isdigit(c)){num=num*10+c-'0'; c=getchar();}
	return num*f;
}
int a[32][20]={
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
2,4,5,6,9,10,11,14,17,19,23,29,0,0,0,0,0,0,0,0,
1,4,5,6,10,11,12,15,18,20,24,25,0,0,0,0,0,0,0,0,
4,5,6,7,8,9,10,14,15,21,27,31,0,0,0,0,0,0,0,0,
1,2,3,5,6,7,8,9,10,11,14,15,16,19,22,28,0,0,0,0,
1,2,3,4,6,7,10,11,15,17,20,23,25,29,0,0,0,0,0,0,
1,2,3,4,5,7,10,11,12,13,16,17,18,21,24,26,0,0,0,0,
3,4,5,6,11,12,13,17,18,22,27,30,0,0,0,0,0,0,0,0,
3,4,9,10,11,12,13,14,15,20,26,30,0,0,0,0,0,0,0,0,
1,3,4,8,10,11,12,13,14,15,19,21,27,31,0,0,0,0,0,0,
1,2,3,4,5,6,8,9,11,12,13,14,15,16,17,20,21,22,25,28,
1,2,4,5,6,7,8,9,10,12,13,15,16,17,18,21,22,23,26,29,
2,6,7,8,9,10,11,13,17,18,22,24,27,30,0,0,0,0,0,0,
6,7,8,9,10,11,12,17,18,23,28,31,0,0,0,0,0,0,0,0,
1,3,4,8,9,10,15,16,17,18,19,20,21,25,26,30,0,0,0,0,
2,3,4,5,8,9,10,11,14,16,17,18,19,20,21,22,25,26,27,31,
4,6,10,11,14,15,17,18,21,22,26,28,0,0,0,0,0,0,0,0,
1,5,6,7,10,11,12,13,14,15,16,18,21,22,23,24,27,28,29,30,
2,6,7,11,12,13,14,15,16,17,22,23,24,28,29,31,0,0,0,0,
1,4,9,14,15,20,21,22,23,24,25,26,0,0,0,0,0,0,0,0,
2,5,8,10,14,15,19,21,22,23,24,25,26,30,0,0,0,0,0,0,
3,6,9,10,11,14,15,16,17,19,20,22,23,24,25,26,27,28,30,31,
4,7,10,11,12,15,16,17,18,19,20,21,23,24,26,27,28,29,30,31,
1,5,11,13,17,18,19,20,21,22,24,28,29,31,0,0,0,0,0,0,
2,6,12,17,18,19,20,21,22,23,28,29,0,0,0,0,0,0,0,0,
2,5,10,14,15,19,20,21,26,27,28,29,0,0,0,0,0,0,0,0,
6,8,11,14,15,16,19,20,21,22,25,27,28,29,30,31,0,0,0,0,
3,7,9,12,15,17,21,22,25,26,28,29,30,31,0,0,0,0,0,0,
4,10,13,16,17,18,21,22,23,24,25,26,27,29,30,31,0,0,0,0,
1,5,11,17,18,22,23,24,25,26,27,28,0,0,0,0,0,0,0,0,
7,8,12,14,17,20,21,22,26,27,28,31,0,0,0,0,0,0,0,0,
3,9,13,15,18,21,22,23,26,27,28,30,0,0,0,0,0,0,0,0
};
int flag,n,k,x[32],ans,hh[32];
void dfs(int dep){
	if (flag==1) return;
	if (dep>31)
	{
		ans++;
		if (ans==k)
		{
			cout<<"Found"<<endl;
			for(int i=1;i<31;i++)
				cout<<x[i]<<" ";
			cout<<x[31]<<endl;
			flag=1;
		}
		return;
	}
	if (hh[dep]==1)
	{
		bool h[32];
		for(int i=1;i<=n;i++) h[i]=0;
		for(int i=0;i<20;i++) 
		{
			h[x[a[dep][i]]]=1;
//			cout<<a[dep][i]<<" "<<x[a[dep][i]]<<endl;;
		}
//		for(int i=1;i<=31;i++)
//			cout<<x[i]<<" ";
//		cout<<" ";
//		for(int i=1;i<=n;i++)
//			cout<<h[i]<<" ";
//		cout<<endl;
//		system("pause");
		for(int i=1;i<=n;i++)
		{
			if (h[i]==0)
			{
				x[dep]=i;
				dfs(dep+1);
			}
		}
		x[dep]=0;
	}
	else dfs(dep+1);
}
signed main(){
	freopen("hexodoku.in","r",stdin);
	freopen("hexodoku.out","w",stdout);
//	for(int i=0;i<=31;i++)
//	{
//		cout<<i<<"   ";
//		for(int j=0;j<20;j++)
//			cout<<a[i][j]<<" ";
//		cout<<endl;
//	}
	n=read();
	k=read();
	for(int i=1;i<=31;i++)
	{
		x[i]=read();
		if (x[i]==0) hh[i]=1;
	}
	dfs(1);
	if (flag==0) cout<<"No way"<<endl;
	return 0;
}
/*
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
2,4,5,6,9,10,11,14,17,19,23,29,0,0,0,0,0,0,0,0,
1,4,5,6,10,11,12,15,18,20,24,25,0,0,0,0,0,0,0,0,
4,5,6,7,8,9,10,14,15,21,27,31,0,0,0,0,0,0,0,0,
1,2,3,5,6,7,8,9,10,11,14,15,16,19,22,28,0,0,0,0,
1,2,3,4,6,7,10,11,15,17,20,23,25,29,0,0,0,0,0,0,
1,2,3,4,5,7,10,11,12,13,16,17,18,21,24,26,0,0,0,0,
3,4,5,6,11,12,13,17,18,22,27,30,0,0,0,0,0,0,0,0,
3,4,9,10,11,12,13,14,15,20,26,30,0,0,0,0,0,0,0,0,
1,3,4,8,10,11,12,13,14,15,19,21,27,31,0,0,0,0,0,0,
1,2,3,4,5,6,8,9,11,12,13,14,15,16,17,20,21,22,25,28,
1,2,4,5,6,7,8,9,10,12,13,15,16,17,18,21,22,23,26,29,
2,6,7,8,9,10,11,13,17,18,22,24,27,30,0,0,0,0,0,0,
6,7,8,9,10,11,12,17,18,23,28,31,0,0,0,0,0,0,0,0,
1,3,4,8,9,10,15,16,17,18,19,20,21,25,26,30,0,0,0,0,
2,3,4,5,8,10,11,14,16,17,18,19,20,21,22,25,26,27,31,
4,6,10,11,14,15,17,18,21,22,26,28,0,0,0,0,0,0,0,0,
1,5,6,7,10,11,12,13,14,15,16,18,21,22,23,24,27,28,29,30,
2,6,7,11,12,13,14,15,16,17,18,22,23,24,28,29,31,0,0,0,0,
1,4,9,14,15,20,21,22,23,24,25,26,0,0,0,0,0,0,0,0,
2,5,8,10,14,15,19,21,22,23,24,25,26,30,0,0,0,0,0,0,
3,6,9,10,11,14,15,16,17,19,20,22,23,24,25,26,27,28,30,31,
4,7,10,11,12,15,16,17,18,19,20,21,23,24,26,27,28,29,30,31,
1,5,11,13,17,18,19,20,21,22,24,28,29,31,0,0,0,0,0,0,
2,6,12,17,18,19,20,21,22,23,28,29,0,0,0,0,0,0,0,0,
2,5,10,14,15,19,20,21,26,27,28,29,0,0,0,0,0,0,0,0,
6,8,11,14,15,16,19,20,21,22,25,27,28,29,30,31,0,0,0,0,
3,7,9,12,15,17,21,22,25,26,28,29,30,31,0,0,0,0,0,0,
4,10,13,16,17,18,21,22,23,24,25,26,27,29,30,31,0,0,0,0,
1,5,11,17,18,22,23,24,25,26,27,28,0,0,0,0,0,0,0,0,
7,8,12,14,17,20,21,22,26,27,28,31,0,0,0,0,0,0,0,0,
3,9,13,15,18,21,22,23,26,27,28,30,0,0,0,0,0,0,0,0
*/
/*
7 1000000
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
*/
