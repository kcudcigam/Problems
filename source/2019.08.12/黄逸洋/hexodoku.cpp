#include<bits/stdc++.h>
using namespace std;
template<typename T>inline void read(T &x){
	long long f=1;x=0;char ch=getchar();
	while(!isdigit(ch)){
		if(ch=='-')f=-1;
		ch=getchar();
	}
	while(isdigit(ch)){
		x=(x<<1)+(x<<3)+(ch^48);
		ch=getchar();
	}
	x*=f;
}
template<typename T>inline void write(T x){
	if(x<0){
		x=-x;
		putchar('-');
	}
	if(x>9)write(x/10);
	putchar(x%10+48);
}
template<typename T>inline void writeln(T x){
	write(x);
	putchar('\n');
}
int cg[50][50]={
	{0,0,0,0,0,0,0},
	{0,1,2,4,5,6,10,11,9,14,19,17,23,29},//1
	{0,1,2,4,5,6,10,11,15,20,25,12,18,24},//2
	{0,3,4,8,9,10,14,15,5,6,7,21,27,31},//3
	{0,3,4,8,9,10,14,15,1,2,5,6,11,7,19,16,22,28},//4
	{0,1,2,4,5,6,10,11,3,7,15,20,25,17,23,29},//5
	{0,1,2,4,5,6,10,11,7,12,13,17,18,3,24,16,21,26},//6
	{0,3,4,5,6,7,11,12,13,17,18,22,27,30},//7
	{0,3,4,8,9,10,11,12,13,14,15,20,26,30},//8
	{0,1,3,4,8,9,10,11,12,13,14,15,19,21,27,31},//9
	{0,1,2,3,4,5,6,8,9,10,11,12,13,14,15,16,17,20,21,22,25,28},//10
	{0,1,2,4,5,6,7,8,9,10,11,12,13,15,16,17,18,21,22,23,26,29},//11
	{0,2,6,7,8,9,10,11,12,13,17,18,22,24,27,30},//12
	{0,6,7,8,9,10,11,12,13,17,18,23,28,31},//13
	{0,1,3,4,8,9,10,14,15,16,17,18,19,20,21,25,26,30},//14
	{0,2,3,4,5,8,9,10,11,14,15,16,17,18,19,20,21,22,25,26,27,31},//15
	{0,4,6,10,11,14,15,16,17,18,21,22,26,28},//16
	{0,1,5,6,7,10,11,12,13,14,15,16,17,18,21,22,23,24,27,28,29,30},//17
	{0,2,6,7,11,12,13,14,15,16,17,18,22,23,24,28,29,31},//18
	{0,1,4,9,14,15,19,20,21,22,23,24,25,26},//19
	{0,2,5,8,10,14,15,19,20,21,22,23,24,25,26,30},//20
	{0,3,6,9,10,11,14,15,16,17,19,20,21,22,23,24,25,26,27,28,30,31},//21
	{0,4,7,10,11,12,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31},//22
	{0,1,5,11,13,17,18,19,20,21,22,23,24,28,29,31},//23
	{0,2,6,12,17,18,19,20,21,22,23,24,28,29},//24
	{0,2,5,10,14,15,19,20,21,25,26,27,28,29},//25
	{0,6,8,11,14,15,16,19,20,21,22,25,26,27,28,29,30,31},//26
	{0,3,7,9,12,15,17,21,22,25,26,27,28,29,30,31},//27
	{0,4,10,13,16,17,18,21,22,23,24,25,26,27,28,29,30,31},//28
	{0,1,5,11,17,18,22,23,24,25,26,27,28,29},//29
	{0,7,8,12,14,17,20,21,22,26,27,28,30,31},//30
	{0,3,9,13,15,18,21,22,23,26,27,28,30,31}//31
};
int hh[50][50],K,N,n=0,flg=0,a[50],b[50];
void jia(int x,int y){
	for(int i=1;cg[x][i]!=0;i++)hh[cg[x][i]][y]++;
}
void jian(int x,int y){
	for(int i=1;cg[x][i]!=0;i++)hh[cg[x][i]][y]--;
}
void dfs(int dep){
	if(flg)return;
	if(dep>31){
		n++;
		if(n>=N){
			cout<<"Found"<<endl;
			for(int i=1;i<=30;i++){
				write(b[i]);putchar(' ');
			}
			writeln(b[31]);
			flg=1;
		}
	}else{
		if(a[dep]){
			b[dep]=a[dep];
			dfs(dep+1);
		}else{
			for(int i=1;i<=K;i++){
				if(!hh[dep][i]){
					b[dep]=i;
					jia(dep,i);
					dfs(dep+1);
					jian(dep,i);
				}
			}
		}
	}
}
int main(){
	freopen("hexodoku.in","r",stdin);
	freopen("hexodoku.out","w",stdout);

	read(K);read(N);
	for(int i=1;i<=31;i++){
		read(a[i]);
		if(a[i]){
			jia(i,a[i]);
		}
	}
	
	dfs(1);
	if(!flg)cout<<"No way"<<endl;
	return 0;
}
/*
8 1
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0

9 10
1 2 0 3 4 5 2 0 4 6 7 1 3 0 5 1 8 6 0 1 3 4 5 0 8 6 7 2 3 5 8

7 1000000
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0

8 1000000
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0

*/

