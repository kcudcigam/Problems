#include<bits/stdc++.h>
using namespace std;
template <typename T> inline void read(T &x){
	x=0; T f=1; char c=getchar();
	for (;!isdigit(c);c=getchar()) if (c=='-') f=-1;
	for (;isdigit(c);c=getchar()) x=(x<<1)+(x<<3)+(c^48);
	x*=f;
}
#define ll long long
#define fre(s) freopen(s".in","r",stdin),freopen(s".out","w",stdout);
template <typename T> inline void write(T x){
	if (x<0) x=-x,putchar('-');
	if (x>9) write(x/10);
	putchar(x%10+48);
}
template <typename T> inline void writeln(T x){
	write(x); puts("");
}
template <typename T> inline void print(T x){
	write(x); putchar(' ');
}
inline ll ksm(ll n,ll x){
	ll ans=1;
	for (;n;n>>=1){
		if (n&1) ans=ans*x;
		x=x*x;
	}
	return ans;
}
int k,n,s;
int h[32][32]={{},{0,2,4,5,6,9,10,11,14,15,17,23,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,4,5,6,10,11,12,15,18,20,24,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,4,5,6,7,8,9,10,14,15,21,27,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,2,3,5,6,7,8,9,10,11,14,15,16,22,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,2,3,4,6,7,10,11,15,17,20,23,25,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,2,3,4,5,7,10,11,12,13,16,17,18,21,24,26,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,3,4,5,6,11,12,13,17,18,22,27,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,3,4,9,10,11,12,13,14,15,20,26,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,3,4,8,10,11,12,13,14,15,21,27,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,2,3,4,5,6,8,9,11,12,13,14,15,16,17,20,21,22,25,28,0,0,0,0,0,0,0,0,0,0,0},{0,1,2,4,5,6,7,8,9,10,12,13,15,16,17,18,21,22,23,26,29,0,0,0,0,0,0,0,0,0,0,0},{0,2,6,7,8,9,10,11,13,17,18,22,24,27,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,6,7,8,9,10,11,12,17,18,23,28,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,3,4,8,9,10,15,16,17,18,19,20,21,25,26,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,2,3,4,5,8,9,10,11,14,16,17,18,19,20,21,22,25,26,27,31,0,0,0,0,0,0,0,0,0,0},{0,4,6,10,11,14,15,17,18,21,22,26,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,5,6,7,10,11,12,13,14,15,16,18,21,22,23,24,27,28,29,30,0,0,0,0,0,0,0,0,0,0,0},{0,2,6,7,11,12,13,14,15,16,17,22,23,24,28,29,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,14,15,20,21,22,23,24,25,26,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,2,5,8,10,14,15,19,21,22,23,24,25,26,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,3,6,9,10,11,14,15,16,17,19,20,22,23,24,25,26,27,28,30,31,0,0,0,0,0,0,0,0,0,0,0},{0,4,7,10,11,12,15,16,17,18,19,20,21,23,24,26,27,28,29,30,31,0,0,0,0,0,0,0,0,0,0,0},{0,1,5,11,13,17,18,19,20,21,22,24,28,29,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,2,6,12,17,18,19,20,21,22,23,28,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,2,5,10,14,15,19,20,21,26,27,28,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,6,8,11,14,15,16,19,20,21,22,25,27,28,29,30,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,3,7,9,12,15,17,21,22,25,26,28,29,30,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,4,10,13,16,17,18,21,22,23,24,25,26,27,29,30,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,1,5,11,17,18,22,23,24,25,26,27,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,7,8,12,14,17,20,21,22,26,27,28,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},{0,3,9,13,15,18,21,22,23,26,27,28,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}};
int ans[10010];
int ha[32];
void dfs(int dep){
	if (ha[dep]){
		dfs(dep+1);
		return;
	} 
	if (dep>31){
		n--;
		if (n==0){
			puts("Found");
			for (int i=1;i<31;i++) print(ans[i]);
			writeln(ans[31]);
			exit(0);
		}
		return;
	}
	for (int i=1;i<=k;i++){
		int f=0;
		for (int j=1;h[dep][j]!=0;j++){
			if (ans[h[dep][j]]==i){
				f=1;
				break;
			} 
		}
		if (f==0) ans[dep]=i,dfs(dep+1),ans[dep]=0;
	}
}
int main(){
	fre("hexodoku")
	read(k); read(n);
	for (int i=1;i<=31;i++) read(ans[i]),ha[i]=ans[i]?1:0,s+=1-ha[i];
	if (k<=7){
		puts("No way");
		return 0;
	}
	if (ksm(s,k)<n){
		puts("No way");
		return 0;
	}
	if (ksm(s,k)>9999999999){
		puts("No way");
		return 0;
	}
	dfs(1);
	puts("No way");
	return 0;
}

